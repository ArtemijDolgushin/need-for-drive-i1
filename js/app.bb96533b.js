(function(e){function t(t){for(var r,i,s=t[0],o=t[1],u=t[2],d=0,g=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&g.push(a[i][0]),a[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);l&&l(t);while(g.length)g.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,s=1;s<n.length;s++){var o=n[s];0!==a[o]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/need-for-drive-i1/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=o;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0ef7":function(e,t,n){e.exports=n.p+"img/menu_btn.0fc651f5.svg"},"0f34":function(e,t,n){"use strict";n("9fad")},"144d":function(e,t,n){e.exports=n.p+"img/marker.111ef1ff.svg"},"17ea":function(e,t,n){},"1e63":function(e,t,n){e.exports=n.p+"img/dot.e1948505.svg"},2216:function(e,t,n){"use strict";n("8205")},"310a":function(e,t,n){"use strict";n("17ea")},"31a7":function(e,t,n){"use strict";n("903c")},"337d":function(e,t,n){e.exports=n.p+"img/arrow-left.3a9e700a.svg"},"4d8a":function(e,t,n){"use strict";n("cfcf")},"4ddb":function(e,t,n){},"4e21":function(e,t,n){},"51a5":function(e,t,n){"use strict";n("4ddb")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(e,t,n,a,c,i){var s=Object(r["A"])("the-wrapper");return Object(r["t"])(),Object(r["d"])(s)}var c={class:"wrapper"};function i(e,t,n,a,i,s){var o=Object(r["A"])("the-sidebar"),u=Object(r["A"])("the-menu"),l=Object(r["A"])("router-view");return Object(r["t"])(),Object(r["f"])("section",c,[Object(r["i"])(o,{onToggleMenu:t[0]||(t[0]=function(e){return i.sidebarMenuActive=!i.sidebarMenuActive})}),Object(r["i"])(u,{sidebarMenuActive:i.sidebarMenuActive},null,8,["sidebarMenuActive"]),Object(r["i"])(l)])}var s=n("0ef7"),o=n.n(s),u=n("719a"),l=n.n(u),d={class:"sidebar"};function g(e,t,n,a,c,i){return Object(r["t"])(),Object(r["f"])("div",d,[Object(r["g"])("img",{class:"sidebar__menu",src:o.a,alt:"open menu button",style:Object(r["p"])(c.sidebarMenuActive?{display:"none"}:{}),onClick:t[0]||(t[0]=function(){return i.toggleMenu&&i.toggleMenu.apply(i,arguments)})},null,4),Object(r["g"])("img",{class:"sidebar__menu_close",src:l.a,alt:"close menu button",style:Object(r["p"])(c.sidebarMenuActive?{}:{display:"none"}),onClick:t[1]||(t[1]=function(){return i.toggleMenu&&i.toggleMenu.apply(i,arguments)})},null,4),Object(r["g"])("span",{class:Object(r["o"])(["sidebar__language",{"sidebar__language_menu-is-active":c.sidebarMenuActive}]),onClick:t[2]||(t[2]=function(){return i.changeLanguage&&i.changeLanguage.apply(i,arguments)})},Object(r["C"])(c.languages[c.selectedLanguageIndex]),3)])}var b={name:"TheSidebar",data:function(){return{sidebarMenuActive:!1,languages:["Eng","Рус"],selectedLanguageIndex:0}},methods:{toggleMenu:function(){this.sidebarMenuActive=!this.sidebarMenuActive,this.$emit("toggleMenu")},changeLanguage:function(){this.selectedLanguageIndex+1===this.languages.length?this.selectedLanguageIndex=0:++this.selectedLanguageIndex}},emits:["toggleMenu"]},p=(n("59ed"),n("d959")),f=n.n(p);const m=f()(b,[["render",g]]);var h=m,O=n("f362"),j=n.n(O),v=n("b342"),_=n.n(v),C=n("d44d"),x=n.n(C),y={class:"menu"},w=Object(r["g"])("ul",null,[Object(r["g"])("li",null," ПАРКОВКА "),Object(r["g"])("li",null," СТРАХОВКА "),Object(r["g"])("li",null," БЕНЗИН "),Object(r["g"])("li",null," ОБСЛУЖИВАНИЕ ")],-1),I=Object(r["g"])("div",{class:"menu__links"},[Object(r["g"])("img",{class:"menu__icon",src:j.a,alt:"telegram icon"}),Object(r["g"])("img",{class:"menu__icon",src:_.a,alt:"facebook icon"}),Object(r["g"])("img",{class:"menu__icon",src:x.a,alt:"instagram icon"})],-1),k=[w,I];function P(e,t,n,a,c,i){return Object(r["t"])(),Object(r["f"])("div",y,[Object(r["g"])("div",{class:Object(r["o"])(["menu__overlay",{"menu__overlay-disabled":!n.sidebarMenuActive}])},null,2),Object(r["g"])("div",{class:Object(r["o"])(["menu__content",{"menu__content-disabled":!n.sidebarMenuActive}])},k,2)])}var S={name:"TheMenu",props:{sidebarMenuActive:Boolean}};n("310a");const T=f()(S,[["render",P]]);var M=T,A={name:"TheWrapper",components:{TheMenu:M,TheSidebar:h},data:function(){return{sidebarMenuActive:!1}}};n("d1e1");const R=f()(A,[["render",i]]);var N=R,L={name:"App",components:{TheWrapper:N},data:function(){return{sidebarMenuActive:!1}}};const U=f()(L,[["render",a]]);var z=U,E=n("6c02");function F(e,t,n,a,c,i){var s=Object(r["A"])("the-promo"),o=Object(r["A"])("the-carousel");return Object(r["t"])(),Object(r["f"])(r["a"],null,[Object(r["i"])(s),Object(r["i"])(o)],64)}var D=n("144d"),W=n.n(D),B={class:"promo"},$=Object(r["g"])("header",null,[Object(r["g"])("span",{class:"promo__logo"},"Need for drive"),Object(r["g"])("span",{class:"promo__map"},[Object(r["g"])("img",{class:"promo__map-image",src:W.a,alt:"map marker"}),Object(r["h"])(" Ульяновск ")])],-1),G=Object(r["g"])("span",{class:"promo__title"},"Каршеринг",-1),H=Object(r["g"])("span",{class:"promo__logo_big"},"Need for drive",-1),J=Object(r["g"])("span",{class:"promo__caption"},"Поминутная аренда авто твоего города",-1),V=Object(r["g"])("footer",null,[Object(r["g"])("span",{class:"promo__copyright"},"© 2016-2019 «Need for drive»"),Object(r["g"])("span",{class:"promo__phone-number"},"8-800-555-35-35")],-1);function X(e,t,n,a,c,i){var s=this;return Object(r["t"])(),Object(r["f"])("div",B,[$,Object(r["g"])("main",null,[G,H,J,Object(r["g"])("button",{class:"promo__button_main-accent",onClick:t[0]||(t[0]=function(e){return s.$router.push("/order")})}," Забронировать ")]),V])}var q={name:"ThePromo"};n("31a7");const K=f()(q,[["render",X]]);var Q=K,Y=n("337d"),Z=n.n(Y),ee=n("1e63"),te=n.n(ee),ne=n("e524"),re=n.n(ne),ae={class:"carousel"},ce=Object(r["g"])("img",{src:Z.a,alt:"arrow left"},null,-1),ie=[ce],se={class:"carousel__content"},oe={class:"carousel__title"},ue={class:"carousel__caption"},le={class:"carousel__dots"},de=["onClick"],ge=Object(r["g"])("img",{src:te.a,alt:"dot"},null,-1),be=[ge],pe=Object(r["g"])("img",{src:re.a,alt:"arrow right"},null,-1),fe=[pe];function me(e,t,n,a,c,i){return Object(r["t"])(),Object(r["f"])("div",ae,[Object(r["g"])("div",{class:Object(r["o"])(["carousel__background",[{"slider-change":c.sliderIsChanging},i.currentSlider.class]])},null,2),Object(r["g"])("div",{class:"carousel__arrow carousel__arrow_left",onClick:t[0]||(t[0]=function(){return i.selectPreviousSlide&&i.selectPreviousSlide.apply(i,arguments)})},ie),Object(r["g"])("main",{class:Object(r["o"])({"slider-change":c.sliderIsChanging})},[Object(r["g"])("div",se,[Object(r["g"])("span",oe,Object(r["C"])(i.currentSlider.titleText),1),Object(r["g"])("span",ue,Object(r["C"])(i.currentSlider.captionText),1),Object(r["g"])("button",{class:Object(r["o"])(["carousel__button",i.currentSlider.buttonClass])},"Подробнее ",2)])],2),Object(r["g"])("div",le,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(c.slides,(function(e,t){return Object(r["t"])(),Object(r["f"])("div",{key:t,class:Object(r["o"])({active:e.class===i.currentSlider.class}),onClick:function(e){return i.selectSlide(t)}},be,10,de)})),128))]),Object(r["g"])("div",{class:"carousel__arrow carousel__arrow_right",onClick:t[1]||(t[1]=function(){return i.selectNextSlide&&i.selectNextSlide.apply(i,arguments)})},fe)])}var he=n("1da1"),Oe=(n("d3b7"),n("96cf"),[{class:"slider-free-parking",titleText:"Бесплатная парковка",captionText:"Оставляйте машину на платных городских парковках и разрешенных местах, не нарушая ПДД, а также в аэропортах.",buttonClass:"button_green"},{class:"slider-insurance",titleText:"Страховка",captionText:"Полная страховка автомобиля.",buttonClass:"button_blue"},{class:"slider-gasoline",titleText:"Бензин",captionText:"Полный бак на любой заправке города за наш счёт.",buttonClass:"button_red"},{class:"slider-service",titleText:"Обслуживание",captionText:"Автомобиль проходит еженедельное ТО.",buttonClass:"button_purple"}]),je={name:"TheCarousel",data:function(){return{slides:Oe,currentSliderIndex:0,sliderIsChanging:!1}},computed:{currentSlider:function(){return this.slides[this.currentSliderIndex]}},methods:{selectPreviousSlide:function(){var e=this;return Object(he["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.toggleSliderChangeAnimation(),t.next=3,e.waitTime();case 3:return 0===e.currentSliderIndex?e.currentSliderIndex=e.slides.length-1:--e.currentSliderIndex,t.next=6,e.waitTime();case 6:e.toggleSliderChangeAnimation();case 7:case"end":return t.stop()}}),t)})))()},selectNextSlide:function(){var e=this;return Object(he["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.toggleSliderChangeAnimation(),t.next=3,e.waitTime();case 3:return e.currentSliderIndex+1===e.slides.length?e.currentSliderIndex=0:++e.currentSliderIndex,t.next=6,e.waitTime();case 6:e.toggleSliderChangeAnimation();case 7:case"end":return t.stop()}}),t)})))()},selectSlide:function(e){var t=this;return Object(he["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.toggleSliderChangeAnimation(),n.next=3,t.waitTime();case 3:return t.currentSliderIndex=e,n.next=6,t.waitTime();case 6:t.toggleSliderChangeAnimation();case 7:case"end":return n.stop()}}),n)})))()},toggleSliderChangeAnimation:function(){this.sliderIsChanging=!this.sliderIsChanging},waitTime:function(){return Object(he["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout((function(){return e("")}),100)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}}};n("51a5");const ve=f()(je,[["render",me]]);var _e=ve,Ce={name:"HomePage",components:{TheCarousel:_e,ThePromo:Q},data:function(){return{sidebarMenuActive:!1}}};const xe=f()(Ce,[["render",F]]);var ye=xe,we=(n("b0c0"),n("c3d4")),Ie=n.n(we);Object(r["w"])("data-v-0e3e03bc");var ke={class:"order-page"},Pe=Object(r["g"])("span",{class:"order-page__logo"},"Need for drive",-1),Se=Object(r["g"])("span",{class:"order-page__map"},[Object(r["g"])("img",{class:"order-page__map-image",src:W.a,alt:"map marker"}),Object(r["h"])(" Ульяновск ")],-1),Te=Object(r["g"])("b",{class:"order-page__pad-left"},null,-1),Me=Object(r["g"])("div",{class:"order-page__progress-bar"},[Object(r["g"])("ul",null,[Object(r["g"])("li",null,"Местоположение"),Object(r["g"])("li",null,[Object(r["g"])("img",{src:Ie.a})]),Object(r["g"])("li",null,"Модель"),Object(r["g"])("li",null,[Object(r["g"])("img",{src:Ie.a})]),Object(r["g"])("li",null,"Дополнительно"),Object(r["g"])("li",null,[Object(r["g"])("img",{src:Ie.a})]),Object(r["g"])("li",null,"Итого")])],-1),Ae={class:"order-page__progress-bar_mobile"},Re=Object(r["g"])("b",{class:"order-page__pad-right"},null,-1),Ne={class:"order-page__info"},Le=Object(r["g"])("div",{class:"order-page__info__caption"}," Ваш заказ: ",-1),Ue={class:"order-page__info__name"},ze=Object(r["g"])("b",{class:"order-page__info__dots"},null,-1),Ee={class:"order-page__info__value"},Fe=Object(r["g"])("div",{class:"order-page__info__price"}," Цена: ",-1),De=["disabled"];function We(e,t,n,a,c,i){var s=Object(r["A"])("router-view");return Object(r["t"])(),Object(r["f"])("div",ke,[Pe,Se,Te,Me,Object(r["g"])("div",Ae,[Object(r["g"])("ul",null,[c.currentStepIndex>0?(Object(r["t"])(),Object(r["f"])("li",{key:0,src:"../assets/images/triangle.svg",onClick:t[0]||(t[0]=function(){return i.moveStepBack&&i.moveStepBack.apply(i,arguments)})}," Назад ")):Object(r["e"])("",!0),Object(r["g"])("li",null,Object(r["C"])(i.currentStep.name),1)])]),Re,Object(r["i"])(s,{class:"order-page__content",onInfoUpdated:i.handleInfoUpdate},null,8,["onInfoUpdated"]),Object(r["g"])("div",Ne,[Le,(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(i.filteredDisplayedInfo,(function(e){return Object(r["t"])(),Object(r["f"])("div",{key:e.name,class:"order-page__info__item"},[Object(r["g"])("span",Ue,Object(r["C"])(e.name)+": ",1),ze,Object(r["g"])("span",Ee,Object(r["C"])(e.value),1)])})),128)),Fe,Object(r["g"])("button",{class:"order-page__info__button_main-accent",disabled:!c.nextStepAvailable,onClick:t[1]||(t[1]=function(){return i.moveStepForward&&i.moveStepForward.apply(i,arguments)})},Object(r["C"])(i.currentStep.buttonText),9,De)])])}Object(r["u"])();n("4de4");var Be=[{name:"Местоположение",buttonText:"Выбрать модель"},{name:"Модель",buttonText:"Дополнительно"},{name:"Дополнительно",buttonText:"Итого"},{name:"Итого",buttonText:"Заказать"},{name:"Заказ номер ",buttonText:"Отменить"}],$e=[{name:"Пункт выдачи",value:""},{name:"Модель",value:""},{name:"Цвет",value:""},{name:"Длительность аренды",value:""},{name:"Тариф",value:""},{name:"Полный бак",value:""}],Ge={orderStatusId:{id:""},cityId:{id:""},pointId:{id:""},carId:{id:""},color:"",dateFrom:0,dateTo:0,rateId:{id:""},price:0,isFullTank:null,isNeedChildChair:null,isRightWheel:null},He={name:"OrderPage",data:function(){return{steps:Be,currentStepIndex:0,nextStepAvailable:!1,displayedInfo:$e,order:Ge,minPrice:NaN,maxPrice:NaN}},computed:{currentStep:function(){return this.steps[this.currentStepIndex]},filteredDisplayedInfo:function(){return this.displayedInfo.filter((function(e){return e.value}))}},methods:{moveStepForward:function(){this.nextStepAvailable=!1},moveStepBack:function(){this.currentStepIndex>0&&this.currentStepIndex--},handleInfoUpdate:function(e){switch(e.name){case"location":this.handleLocationUpdate(e.value);break;case"model":this.handleModelUpdate(e.value);break}},handleLocationUpdate:function(e){this.displayedInfo=$e,this.displayedInfo[0].value=e.cityId.name+",\n"+e.address,this.order=Ge,this.order.cityId.id=e.cityId.id,this.order.pointId.id=e.id,this.minPrice=NaN,this.maxPrice=NaN,this.nextStepAvailable=!0},handleModelUpdate:function(e){var t=this.displayedInfo[0].value,n=this.order.cityId.id,r=this.order.pointId.id;this.resetOrderInfo(),this.displayedInfo[0].value=t,this.order.cityId.id=n,this.order.pointId.id=r,this.displayedInfo[1].value=e.name,this.order.carId.id=e.id,this.minPrice=e.priceMin,this.maxPrice=e.priceMax,this.nextStepAvailable=!0},resetOrderInfo:function(){this.displayedInfo=$e,this.order=Ge}}};n("4d8a");const Je=f()(He,[["render",We],["__scopeId","data-v-0e3e03bc"]]);var Ve=Je,Xe=n("8708"),qe=n.n(Xe);Object(r["w"])("data-v-1b1d0480");var Ke={class:"location"},Qe=Object(r["g"])("label",{for:"city"},"Город:",-1),Ye={class:"location__input"},Ze={key:0,class:"location__select"},et=["onClick"],tt=Object(r["g"])("label",{for:"place"},"Пункт выдачи:",-1),nt={class:"location__input"},rt=["disabled"],at={key:0,class:"location__select"},ct=["onClick"],it=Object(r["g"])("label",{class:"location__map-caption"},"Выбрать на карте:",-1),st=Object(r["g"])("img",{src:qe.a},null,-1);function ot(e,t,n,a,c,i){return Object(r["t"])(),Object(r["f"])("div",Ke,[Object(r["g"])("div",{class:Object(r["o"])(["loading-message",{disabled:!c.loading}])}," Идёт загрузка данных... ",2),Object(r["g"])("div",{class:Object(r["o"])(["error-message",{disabled:!c.error}])}," Что-то пошло не так... ",2),Object(r["g"])("ul",null,[Object(r["g"])("li",null,[Qe,Object(r["g"])("div",Ye,[Object(r["G"])(Object(r["g"])("input",{id:"city","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.selectedCity=e}),autocomplete:"off",placeholder:"Начните вводить город..."},null,512),[[r["E"],c.selectedCity]]),i.validCitySelected?Object(r["e"])("",!0):(Object(r["t"])(),Object(r["f"])("div",Ze,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(i.filteredCities,(function(e){return Object(r["t"])(),Object(r["f"])("div",{key:e.name,class:"location__option",onClick:function(t){return i.selectCity(e)}},Object(r["C"])(e.name),9,et)})),128))]))])]),Object(r["g"])("li",null,[tt,Object(r["g"])("div",nt,[Object(r["G"])(Object(r["g"])("input",{id:"place","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.selectedPoint=e}),autocomplete:"off",placeholder:"Начните вводить пункт...",disabled:!i.validCitySelected},null,8,rt),[[r["E"],c.selectedPoint]]),i.validPointSelected?Object(r["e"])("",!0):(Object(r["t"])(),Object(r["f"])("div",at,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(i.filteredPoints,(function(e){return Object(r["t"])(),Object(r["f"])("div",{key:e.address,class:"location__option",onClick:function(t){return i.selectPoint(e)}},Object(r["C"])(e.address),9,ct)})),128))]))])])]),it,st])}Object(r["u"])();n("2ca0");var ut=n("d4ec"),lt=n("bee2"),dt=(n("99af"),"5e25c641099b810b946c5d5b"),gt="https://api-factory.simbirsoft1.com",bt=function(){function e(){Object(ut["a"])(this,e)}return Object(lt["a"])(e,null,[{key:"get",value:function(){var e=Object(he["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(gt,"/api/db").concat(t),{headers:{"X-Api-Factory-Application-Id":dt}});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCities",value:function(){var e=Object(he["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get("/city");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getPoints",value:function(){var e=Object(he["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get("/point");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCarCount",value:function(){var e=Object(he["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get("/car?limit=9999&page=9999");case 2:return t=e.sent,e.abrupt("return",t.count);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCars",value:function(){var e=Object(he["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,e.next=3,this.get("/car?limit=".concat(t,"&page=").concat(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCarCategories",value:function(){var e=Object(he["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get("/category");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCarById",value:function(){var e=Object(he["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get("/car/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCarThumbnail",value:function(e){switch(e.charAt(0)){case"d":return e;case"/":return gt+e}}}]),e}(),pt={name:"OrderLocation",data:function(){return{cities:[],points:[],selectedCity:"",selectedPoint:"",loading:!1,error:!1}},emits:["infoUpdated"],methods:{getData:function(){var e=this;return Object(he["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,bt.getCities();case 4:return e.cities=t.sent,t.next=7,bt.getPoints();case 7:e.points=t.sent,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.error=!0,console.log(t.t0);case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})))()},selectCity:function(e){this.selectedCity=e.name,this.selectedPoint=""},selectPoint:function(e){this.selectedPoint=e.address,this.updateInfo(e)},updateInfo:function(e){this.$emit("infoUpdated",{name:"location",value:e})}},computed:{filteredCities:function(){var e=this;return this.cities.filter((function(t){return e.selectedCity&&t.name.toLowerCase().startsWith(e.selectedCity.toLowerCase())}))},filteredPoints:function(){var e=this;return this.points.filter((function(t){return t.cityId&&t.cityId.name===e.selectedCity})).filter((function(t){return e.selectedPoint&&(t.address.toLowerCase().startsWith(e.selectedPoint.toLowerCase())||t.name.toLowerCase().startsWith(e.selectedPoint.toLowerCase()))}))},validCitySelected:function(){var e=this;return 1===this.filteredCities.length&&this.filteredCities.every((function(t){return t.name===e.selectedCity}))},validPointSelected:function(){var e=this;return 1===this.filteredPoints.length&&this.filteredPoints.every((function(t){return t.address===e.selectedPoint}))}},created:function(){this.getData()}};n("2216");const ft=f()(pt,[["render",ot],["__scopeId","data-v-1b1d0480"]]);var mt=ft;Object(r["w"])("data-v-67da3edb");var ht={class:"model"},Ot={class:"model__categories"},jt=["onClick"],vt=["id","value"],_t=["for"],Ct={id:"pages",class:"model__cars"},xt=["onClick"],yt={class:"model__name"},wt={class:"model__price"},It={class:"model__image"},kt=["src","alt"],Pt={class:"model__selected"};function St(e,t,n,a,c,i){return Object(r["t"])(),Object(r["f"])("div",ht,[Object(r["g"])("div",Ot,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(c.carCategories,(function(e){return Object(r["t"])(),Object(r["f"])("div",{key:e.id,class:"model__option",onClick:function(t){return i.selectCategory(e.name)}},[Object(r["g"])("input",{id:e.id,name:"carCategory",type:"radio",value:e.name},null,8,vt),Object(r["g"])("label",{for:e.id,class:Object(r["o"])({active:c.selectedCategory===e.name})},Object(r["C"])(e.name),11,_t)],8,jt)})),128))]),Object(r["g"])("div",Ct,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(c.pages,(function(e,n){return Object(r["t"])(),Object(r["f"])("div",{key:n,class:Object(r["o"])(["model__page",{disabled:c.selectedPageIndex!==n}])},[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(e.cars,(function(e,n){return Object(r["t"])(),Object(r["f"])("div",{key:n,class:Object(r["o"])(["model__car",{disabled:!i.carMatchesCategory(e),active:e.id===c.selectedCarId}]),onClick:function(t){return i.selectCar(e)}},[Object(r["g"])("span",yt,Object(r["C"])(e.name),1),Object(r["g"])("span",wt,Object(r["C"])(e.priceMin)+" - "+Object(r["C"])(e.priceMax)+" ₽ ",1),Object(r["g"])("div",It,[Object(r["g"])("img",{src:i.getCarThumbnail(e.thumbnail.path),alt:e.name,onError:t[0]||(t[0]=function(){return i.handleImageError&&i.handleImageError.apply(i,arguments)})},null,40,kt)])],10,xt)})),128))],2)})),128))]),Object(r["g"])("div",{class:Object(r["o"])(["loading-message",{disabled:!c.loading}])}," Идёт загрузка данных... ",2),Object(r["g"])("div",{class:Object(r["o"])(["error-message",{disabled:!c.error}])}," Что-то пошло не так... ",2),Object(r["g"])("ul",{class:Object(r["o"])(["model__pagination",{disabled:c.loading}])},[Object(r["g"])("li",{class:Object(r["o"])([{disabled:1===i.selectedPageNumber},"model__page-change"]),onClick:t[1]||(t[1]=function(){return i.selectPreviousPage&&i.selectPreviousPage.apply(i,arguments)})}," « ",2),Object(r["g"])("li",Pt,Object(r["C"])(i.selectedPageNumber),1),Object(r["g"])("li",{class:Object(r["o"])([{disabled:i.selectedPageNumber===c.pagesCount},"model__page-change"]),onClick:t[2]||(t[2]=function(){return i.selectNextPage&&i.selectNextPage.apply(i,arguments)})}," » ",2)],2)])}Object(r["u"])();var Tt={name:"OrderModel",data:function(){return{carCount:NaN,carsPerPage:12,pagesCount:NaN,pages:[],selectedPageIndex:0,carCategories:[],selectedCategory:"Все модели",selectedCarId:"",loading:!1,error:!1}},emits:["infoUpdated"],computed:{selectedPageNumber:function(){return this.selectedPageIndex+1}},methods:{selectCar:function(e){this.selectedCarId=e.id,this.updateInfo(e)},getData:function(){var e=this;return Object(he["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.getCategories();case 4:return t.next=6,e.getPageCount();case 6:return t.next=8,e.getCars();case 8:t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.error=!0,console.log("aaa",t.t0);case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})))()},getCategories:function(){var e=this;return Object(he["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bt.getCarCategories();case 2:e.carCategories=t.sent,e.carCategories.unshift({name:"Все модели",id:"all"});case 4:case"end":return t.stop()}}),t)})))()},getPageCount:function(){var e=this;return Object(he["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bt.getCarCount();case 2:for(e.carCount=t.sent,e.pagesCount=Math.ceil(e.carCount/e.carsPerPage),n=0;n<e.pagesCount;n++)e.pages.push({empty:!0,cars:[]});case 5:case"end":return t.stop()}}),t)})))()},getCars:function(){var e=this;return Object(he["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.pages[e.selectedPageIndex].empty){t.next=5;break}return t.next=3,bt.getCars(e.carsPerPage,e.selectedPageIndex);case 3:e.pages[e.selectedPageIndex].cars=t.sent,e.pages[e.selectedPageIndex].empty=!1;case 5:case"end":return t.stop()}}),t)})))()},selectCategory:function(e){this.selectedCategory=e},getCarThumbnail:function(e){return bt.getCarThumbnail(e)},selectPreviousPage:function(){this.selectedPageIndex>0&&this.selectedPageIndex--},selectNextPage:function(){var e=this;return Object(he["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.selectedPageIndex<e.pages.length-1&&e.selectedPageIndex++,t.prev=1,e.loading=!0,t.next=5,e.getCars();case 5:t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),e.error=!0,console.log("bbb",t.t0);case 11:return t.prev=11,e.loading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,7,11,14]])})))()},carMatchesCategory:function(e){return"Все модели"===this.selectedCategory||!e.categoryId||e.categoryId.name===this.selectedCategory},handleImageError:function(e){e.target.src=n("c8e7")},updateInfo:function(e){this.$emit("infoUpdated",{name:"model",value:e})}},created:function(){this.getData()}};n("0f34");const Mt=f()(Tt,[["render",St],["__scopeId","data-v-67da3edb"]]);var At=Mt,Rt=[{path:"/",name:"HomePage",component:ye},{path:"/order",name:"OrderPage",component:Ve,children:[{path:"",redirect:"/order/model"},{path:"location",name:"OrderLocation",component:mt},{path:"model",name:"OrderModel",component:At}]}],Nt=Object(E["a"])({history:Object(E["b"])(),routes:Rt}),Lt=Nt;Object(r["c"])(z).use(Lt).mount("#app")},"59ed":function(e,t,n){"use strict";n("4e21")},"719a":function(e,t,n){e.exports=n.p+"img/menu_btn_back.b20e2ce3.svg"},8205:function(e,t,n){},8708:function(e,t,n){e.exports=n.p+"img/map.cb31fb44.png"},"903c":function(e,t,n){},"9fad":function(e,t,n){},a85b:function(e,t,n){},b342:function(e,t,n){e.exports=n.p+"img/Facebook_white.e3ff8c35.svg"},c3d4:function(e,t,n){e.exports=n.p+"img/triangle.ef4df2e9.svg"},c8e7:function(e,t,n){e.exports=n.p+"img/car_no_image.089524b3.png"},cfcf:function(e,t,n){},d1e1:function(e,t,n){"use strict";n("a85b")},d44d:function(e,t,n){e.exports=n.p+"img/Instagram_white.c9d373a5.svg"},e524:function(e,t,n){e.exports=n.p+"img/arrow-right.bf9a1d59.svg"},f362:function(e,t,n){e.exports=n.p+"img/Telegram_white.a2d8f1e3.svg"}});
//# sourceMappingURL=app.bb96533b.js.map